(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{14:function(e,t,a){e.exports={wrapper:"Button_wrapper__eM8Up",Button:"Button_Button__3Nbwi"}},15:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3pG4i",Modal:"Modal_Modal__n3X6z"}},28:function(e,t,a){e.exports={wrapper:"Loader_wrapper__3FkD9"}},29:function(e,t,a){e.exports={list:"Wrapper_list__11dhx",link:"Wrapper_link__3XbP0"}},34:function(e,t,a){},7:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__36HYM",ImageGalleryItem:"ImageGallery_ImageGalleryItem__pGWh-",ImageGalleryItemImage:"ImageGallery_ImageGalleryItemImage__1iFpP"}},78:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),s=(a(34),a(4)),u=a(5),i=(a(35),a(13)),l=a.n(i),m=a(16),b=a(25),h=a(26),j=a.n(h);var p=function(e,t){return j.a.get("".concat("https://pixabay.com/api/?q=").concat(e,"&page=").concat(t,"&key=").concat("22450906-3e002c9d2b529a68e38cedb68","&image_type=photo&orientation=horizontal&per_page=12"))},d=a(14),f=a.n(d),O=a(1);var _=function(e){var t=e.onClick;return Object(O.jsx)("div",{className:f.a.wrapper,children:Object(O.jsx)("button",{type:"button",className:f.a.Button,onClick:t,children:"Load more"})})},g=a(27),x=a.n(g),v=(a(77),a(28)),y=a.n(v);var S=function(){return Object(O.jsxs)("div",{className:y.a.wrapper,children:[Object(O.jsx)(x.a,{}),";"]})},w=a(15),I=a.n(w),k=document.querySelector("#modal-root");var B=function(e){var t=e.onClose,a=e.children;function n(e){"Escape"===e.code&&t()}return Object(r.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}})),Object(c.createPortal)(Object(O.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(O.jsx)("div",{className:I.a.Modal,children:a})}),k)},N=a(7),F=a.n(N);var G=function(e){var t=e.hit,a=t.webformatURL,r=t.tags,n=e.showModal;return Object(O.jsx)("li",{className:F.a.item,children:Object(O.jsx)("img",{width:"600",src:a,alt:r,className:F.a.ImageGalleryItemImage,onClick:function(){return n(e.hit)}})})};var C=function(e){var t=e.query,a=Object(r.useState)([]),n=Object(s.a)(a,2),c=n[0],o=n[1],i=Object(r.useState)(1),h=Object(s.a)(i,2),j=h[0],d=h[1],f=Object(r.useState)(!1),g=Object(s.a)(f,2),x=g[0],v=g[1],y=Object(r.useState)(!1),w=Object(s.a)(y,2),I=w[0],k=w[1],N=Object(r.useState)({}),C=Object(s.a)(N,2),E=C[0],M=C[1],q=function(e){var t=Object(r.useRef)();return Object(r.useEffect)((function(){t.current=e})),t.current}({query:t,page:j});function L(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}function P(e){k(!0),M(e)}return Object(r.useEffect)((function(){function e(){return a.apply(this,arguments)}function a(){return(a=Object(b.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,p(t,j);case 4:if(a=e.sent,q.page!==j&&j>1?(o((function(e){return[].concat(Object(m.a)(e),Object(m.a)(a.data.hits))})),L()):o(a.data.hits),0!==a.data.hits.length){e.next=8;break}return e.abrupt("return",u.b.warn("Oops, such item has not found"));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",u.b.error("Error while loading data. Try again later"));case 14:return e.prev=14,v(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})))).apply(this,arguments)}t&&void 0!==q&&(q.page!==j&&j>1&&e(),q.query!==t&&(o([]),d(1),e()))}),[j,q,t]),Object(O.jsxs)("main",{children:[x&&Object(O.jsx)(S,{}),I&&Object(O.jsx)(B,{onClose:function(){k(!1),M({})},children:Object(O.jsx)("img",{src:E.largeImageURL,alt:E.tags})}),Object(O.jsx)("ul",{className:F.a.ImageGallery,children:c.map((function(e){return Object(O.jsx)(G,{hit:e,className:F.a.ImageGalleryItem,showModal:P},e.id)}))}),c.length>=12&&Object(O.jsx)(_,{onClick:function(){d((function(e){return e+1}))}})]})},E=a(8),M=a.n(E);var q=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],o=n[1],i=function(){o("")};return Object(O.jsx)("header",{className:M.a.Searchbar,children:Object(O.jsxs)("form",{className:M.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return u.b.warn("Empty request - please input a query");t(c),i()},children:[Object(O.jsx)("button",{type:"submit",className:M.a.SearchFormButton,children:Object(O.jsx)("span",{className:M.a.SearchFormButtonLabel,children:"Search"})}),Object(O.jsx)("input",{className:M.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){o(e.currentTarget.value)}})]})})},L=a(29),P=a.n(L);var T=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(O.jsxs)("div",{className:P.a.wrapper,children:[Object(O.jsx)(q,{onSubmit:function(e){n(e)}}),Object(O.jsx)(C,{query:a}),Object(O.jsx)(u.a,{autoClose:3e3})]})};var U=function(){return Object(O.jsx)(T,{})};o.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(U,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__zFQek",SearchForm:"SearchBar_SearchForm__djcUP",SearchFormButton:"SearchBar_SearchFormButton__X6IqO",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__2N7n-",SearchFormInput:"SearchBar_SearchFormInput__1_1Vh"}}},[[78,1,2]]]);
//# sourceMappingURL=main.4894571e.chunk.js.map